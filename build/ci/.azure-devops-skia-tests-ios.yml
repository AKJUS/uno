parameters:
  vmImage: ''
  vmMacImage: ''
  vmMacImageTest: ''
  vmLinuxImage: ''
  vmLinuxPool: ''
  xCodeRootTest: ''
  xCodeRootBuild: ''
  poolName: ''
  UNO_UWP_BUILD: ''
  XAML_FLAVOR_BUILD: ''

jobs:
##
## Runtime tests
##
- template: .azure-devops-ios-tests-run.yml
  parameters:
    nugetPackages: $(NUGET_PACKAGES)
    JobName: 'Skia_iOS_Runtime_Tests'
    JobDisplayName: 'Skia iOS Runtime Tests'
    JobTimeoutInMinutes: 90
    vmImage: ${{ parameters.vmMacImageTest }}
    SamplesAppArtifactName: 'uitests-ios-skia-build'
    UITEST_SNAPSHOTS_ONLY: false
    UITEST_TEST_TIMEOUT: '90m'
    UITEST_AUTOMATED_GROUP: RuntimeTests
    UITEST_ALLOW_RERUN: 'false'
    SAMPLESAPP_BUNDLE_ID: 'uno.platform.samplesapp.skia'
    UITEST_VARIANT: 'skia'
    xCodeRoot: ${{ parameters.xCodeRootTest }}
    dependsOn: Skia_Tests_Build_iOS
